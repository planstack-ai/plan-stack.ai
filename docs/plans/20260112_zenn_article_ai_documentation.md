# Zenn Article: AI時代のドキュメンテーション

## Summary

AI時代のドキュメンテーションについてのZenn記事執筆プラン。ADRの問題点を論じるのではなく、「AIという新しい読者が増えた → 新しいドキュメント層が必要」というシンプルな主張。

## Core Message

- ドキュメントの読者が変わった（人間 → 人間 + AI）
- Claude Codeは探索できるが、探索にはcontextコストがかかる
- plan.mdは外部記憶として永続化し、commitに含めるべき

## Article Structure

```
1. フック（煽り気味で入る）
   - 「人間だけを想定して書かれたコードベースに、
      Claude Codeを放り込むと何が起きるか」
   - すでに使っていて痛みを知っている読者前提
   - 「どう作るか」を残す仕組みが効いてくる

2. なぜ今か：探索できるAI
   - Claude Code（観測可能な挙動）
     - grep → ls → read の反復
     - 途中で要約・再構造化している様子
   - Opusの推論能力
     - 探索 → 理解 → 構造化 が一貫してできる
     - 複雑な依存関係を追える
     - 影響範囲、手順、代替案、リスクまで整理
   - planはドメインの蒸留
     - 巨大なコードベースを探索した結果の圧縮
     - 50ファイル読んで、300行に蒸留
     - 関連ファイル、依存関係、意図がまとまっている
     - ドメインクラスタリングとして機能
       - 同じドメインの関連ファイルが群としてまとまる
       - 例：認証系planがあれば、次の認証作業時に即座に参照可能
   - 共通点
     - 探索結果を一時的な構造にまとめている
     - それが揮発する
     - 探索コストは、毎回必ず発生する"固定費"だ
   - 結論：plan.md = 外に出した scratchpad
   - ボトルネックの移動
     - 「書く」から「レビュー」へ
     - AIが書いて人間がレビューする時代

3. 探索にはコストがある
   - すべてcontextを消費する
     - ls, grep, ファイル読み込み
     - 毎回ゼロから探索 = 毎回contextを消費
   - contextの限界
     - 容量 ≠ 理解力（75%ルール）
     - /clearで消える
     - セッション終了で消える
     - 揮発性のワーキングメモリ
   - 人間の記憶と同じ性質
     - context = ペアプロの口頭設計、ホワイトボード、頭の中の設計
     - 「AIは忘れるが、人間は忘れたことを忘れる」
   - だから外部記憶が要る
     - 探索結果を圧縮して永続化
     - それがplan.md

4. plan.mdを永続化する
   - 外部記憶としてのplan
     - /clearしても残る
     - セッションを跨いでも残る
     - ツールが変わっても読める
   - ADR / PR / plan の比較（役割の違い）
     - ADR: アーキテクチャ判断のWhy
     - PR: 変更のWhat
     - plan: 実装のHow + Why
     - それぞれ否定しない、役割が違う
   - commitに含める
     - docs/plans/ にコードと一緒にバージョン管理
     - 実装の「意図」がgit historyに残る
     - 将来の開発者（人間もAIも）が参照できる
     - チーム全体のナレッジベースになる
   - planはドキュメントではなく、コードの一部

5. 実践：どうやるか
   - CLAUDE.mdに書く一行
     「Search docs/plans/ for similar past implementations before planning.」
   - 具体的な流れ
     1. 要件・制約を投げる
     2. AIがplanを出す
     3. 人間がレビューして直す
     4. planをdocs/plans/に保存してcommit
   - planも古くなる問題への対策
     - commitに含めることでAIレビューの対象になる
     - AIがplan vs 実装の乖離をチェック
     - ガードレールとして機能
     - 弊社で導入済み、うまくワークしている
     - 人間のレビューコストを劇的に削減
   - planの例（簡潔に）

6. 結論
   - 書かない理由が消えた
   - context = 短期記憶、plan = 長期記憶
   - AIにも「メモを残す」習慣が要る
   - ADRは人間の記憶、PlanはAIのコンテキスト
   - 締め：「AIが設計を理解できるコードベースは、
           結果として人間にも理解しやすい」
```

## Key Points to Emphasize

1. **Opusの推論能力** - 精度の高いplanを出力できる時代になった
2. **探索のcontextコスト** - ls/grepもcontextを消費する
3. **外部記憶としてのplan** - 揮発性contextの限界を補う
4. **commitに含める** - planはコードの一部

## What NOT to Include

- ADRの問題点・限界の議論
- 「以前のAIは弱かった」という根拠のない比較
- ドキュメントが死ぬ理由の長い説明

## Title

「planをcommitせよ：AI時代のドキュメンテーション」

## Metadata

```yaml
title: "planをcommitせよ：AI時代のドキュメンテーション"
emoji: "🧠"
type: "tech"
topics: ["ai", "claude", "documentation", "workflow"]
published: false
```

## Next Steps

1. タイトル確定
2. フックの文章を練る
3. 各セクションを執筆
4. 具体例・コードブロックを追加
5. 推敲・校正
